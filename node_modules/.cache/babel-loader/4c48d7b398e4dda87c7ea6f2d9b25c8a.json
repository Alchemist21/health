{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Me\\\\Desktop\\\\hackfest2019\\\\healthr\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Me\\\\Desktop\\\\hackfest2019\\\\healthr\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Me\\\\Desktop\\\\hackfest2019\\\\healthr\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Me\\\\Desktop\\\\hackfest2019\\\\healthr\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Me\\\\Desktop\\\\hackfest2019\\\\healthr\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Me\\\\Desktop\\\\hackfest2019\\\\healthr\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Me\\\\desktop\\\\hackfest2019\\\\healthr\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport UserInfo from './UserInfo';\n\nvar blockstack = require('blockstack');\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    var isSignedIn = _this.checkSignedInStatus();\n\n    _this.state = {\n      isSignedIn: isSignedIn,\n      person: undefined\n    };\n\n    if (isSignedIn) {\n      _this.loadPerson();\n    }\n\n    _this.handleSignIn = _this.handleSignIn.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSignOut = _this.handleSignOut.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"checkSignedInStatus\",\n    value: function checkSignedInStatus() {\n      if (blockstack.isUserSignedIn()) {\n        return true;\n      } else if (blockstack.isSignInPending()) {\n        blockstack.handlePendingSignIn().then(function (userData) {\n          window.location = window.location.origin;\n        });\n        return false;\n      }\n    }\n  }, {\n    key: \"loadPerson\",\n    value: function loadPerson() {\n      var _this2 = this;\n\n      var username = blockstack.loadUserData().username;\n      blockstack.lookupProfile(username).then(function (person) {\n        _this2.setState({\n          person: person\n        });\n      });\n    }\n  }, {\n    key: \"handleSignIn\",\n    value: function handleSignIn(event) {\n      event.preventDefault();\n      blockstack.redirectToSignIn();\n    }\n  }, {\n    key: \"handleSignOut\",\n    value: function handleSignOut(event) {\n      event.preventDefault();\n      blockstack.signUserOut(window.location.href);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"App-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Healthr\")), React.createElement(\"p\", {\n        style: {\n          display: this.state.isSignedIn ? 'none' : 'block'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.handleSignIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Sign-in\")), React.createElement(\"p\", {\n        style: {\n          display: !this.state.isSignedIn ? 'none' : 'block'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(UserInfo, {\n        user: this.state.person,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Chief Complaint\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Vital Signs\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Physical Examination\"), React.createElement(\"button\", {\n        onClick: this.handleSignOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Sign-out\")));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\Me\\desktop\\hackfest2019\\healthr\\src\\App.js"],"names":["React","Component","UserInfo","blockstack","require","App","props","isSignedIn","checkSignedInStatus","state","person","undefined","loadPerson","handleSignIn","bind","handleSignOut","isUserSignedIn","isSignInPending","handlePendingSignIn","then","userData","window","location","origin","username","loadUserData","lookupProfile","setState","event","preventDefault","redirectToSignIn","signUserOut","href","display"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport './App.css';\r\n\r\nimport UserInfo from './UserInfo';\r\n\r\nconst blockstack = require('blockstack');\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    let isSignedIn = this.checkSignedInStatus();\r\n\r\n    this.state = {\r\n      isSignedIn,\r\n      person: undefined\r\n    }\r\n\r\n    if(isSignedIn) {\r\n      this.loadPerson();\r\n    }\r\n\r\n    this.handleSignIn = this.handleSignIn.bind(this)\r\n    this.handleSignOut = this.handleSignOut.bind(this)\r\n  }\r\n\r\n  checkSignedInStatus() {\r\n    if (blockstack.isUserSignedIn()) {\r\n      return true;\r\n    } else if (blockstack.isSignInPending()) {\r\n      blockstack.handlePendingSignIn().then(function(userData) {\r\n        window.location = window.location.origin\r\n      })\r\n      return false;\r\n    }\r\n  }\r\n\r\n  loadPerson() {\r\n    let username = blockstack.loadUserData().username\r\n\r\n    blockstack.lookupProfile(username).then((person) => {\r\n      this.setState({ person })\r\n    })\r\n  }\r\n\r\n  handleSignIn(event) {\r\n    event.preventDefault();\r\n    blockstack.redirectToSignIn()\r\n  }\r\n\r\n  handleSignOut(event) {\r\n    event.preventDefault();\r\n    blockstack.signUserOut(window.location.href)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <h1 className=\"App-title\">Healthr</h1>\r\n       \r\n\r\n        </header>\r\n        <p style={{display: this.state.isSignedIn ? 'none' : 'block' }}>\r\n          <button onClick={this.handleSignIn}>\r\n            Sign-in \r\n          </button>\r\n        </p>\r\n        <p style={{display: !this.state.isSignedIn ? 'none' : 'block' }}>\r\n          <UserInfo user={this.state.person} />\r\n          <p>Chief Complaint</p>\r\n          <p>Vital Signs</p>\r\n          <p>Physical Examination</p>\r\n\r\n          <button onClick={this.handleSignOut}>\r\n            Sign-out\r\n          </button>\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}